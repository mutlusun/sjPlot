<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Plot PCA results — sjp.pca • sjPlot</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Plot PCA results — sjp.pca" />
<meta property="og:description" content="Performs a principle component analysis on a data frame or matrix (with
               varimax or oblimin rotation) and plots the factor solution as ellipses or tiles.  
               In case a data frame is used as argument, the cronbach's alpha value for
               each factor scale will be calculated, i.e. all variables with the highest
               loading for a factor are taken for the reliability test. The result is
               an alpha value for each factor dimension." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sjPlot</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.8.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Regression Tables
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/tab_model_estimates.html">Classical Regression Models as HTML Table</a>
    </li>
    <li>
      <a href="../articles/tab_mixed.html">Mixed Models as HTML Table</a>
    </li>
    <li>
      <a href="../articles/tab_bayes.html">Bayesian Models as HTML Table</a>
    </li>
    <li>
      <a href="../articles/tab_model_robust.html">Robust Estimation of Standard Errors</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Regression Plots
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/plot_model_estimates.html">Plotting Regression Coefficients</a>
    </li>
    <li>
      <a href="../articles/plot_marginal_effects.html">Plotting Marginal Effects</a>
    </li>
    <li>
      <a href="../articles/plot_interactions.html">Plotting Marginal Effects of Interactions</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Plot and Table Customization
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/blackwhitefigures.html">Creating Black and White Figures</a>
    </li>
    <li>
      <a href="../articles/custplot.html">Customize Plot Appearance</a>
    </li>
    <li>
      <a href="../articles/table_css.html">Customize Table Appearance</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Other Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/sjtitemanalysis.html">Item Analysis of a Scale or an Index</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/strengejacke/sjPlot/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot PCA results</h1>
    <small class="dont-index">Source: <a href='https://github.com/strengejacke/sjPlot/blob/master/R/sjPlotPCA.R'><code>R/sjPlotPCA.R</code></a></small>
    <div class="hidden name"><code>sjp.pca.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Performs a principle component analysis on a data frame or matrix (with
               varimax or oblimin rotation) and plots the factor solution as ellipses or tiles. <br /> <br />
               In case a data frame is used as argument, the cronbach's alpha value for
               each factor scale will be calculated, i.e. all variables with the highest
               loading for a factor are taken for the reliability test. The result is
               an alpha value for each factor dimension.</p>
    </div>

    <pre class="usage"><span class='fu'>sjp.pca</span>(
  <span class='no'>data</span>,
  <span class='kw'>rotation</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"varimax"</span>, <span class='st'>"quartimax"</span>, <span class='st'>"promax"</span>, <span class='st'>"oblimin"</span>, <span class='st'>"simplimax"</span>, <span class='st'>"cluster"</span>,
    <span class='st'>"none"</span>),
  <span class='kw'>nmbr.fctr</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>fctr.load.tlrn</span> <span class='kw'>=</span> <span class='fl'>0.1</span>,
  <span class='kw'>plot.eigen</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>digits</span> <span class='kw'>=</span> <span class='fl'>2</span>,
  <span class='kw'>title</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>axis.labels</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>type</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"bar"</span>, <span class='st'>"circle"</span>, <span class='st'>"tile"</span>),
  <span class='kw'>geom.size</span> <span class='kw'>=</span> <span class='fl'>0.6</span>,
  <span class='kw'>geom.colors</span> <span class='kw'>=</span> <span class='st'>"RdBu"</span>,
  <span class='kw'>wrap.title</span> <span class='kw'>=</span> <span class='fl'>50</span>,
  <span class='kw'>wrap.labels</span> <span class='kw'>=</span> <span class='fl'>30</span>,
  <span class='kw'>show.values</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>show.cronb</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>A data frame that should be used to compute a PCA, or a <code><a href='https://rdrr.io/r/stats/prcomp.html'>prcomp</a></code> object.</p></td>
    </tr>
    <tr>
      <th>rotation</th>
      <td><p>Rotation of the factor loadings. May be one of
<code>"varimax", "quartimax", "promax", "oblimin", "simplimax", "cluster"</code>
or <code>"none"</code>.</p></td>
    </tr>
    <tr>
      <th>nmbr.fctr</th>
      <td><p>Number of factors used for calculating the rotation. By
default, this value is <code>NULL</code> and the amount of factors is
calculated according to the Kaiser-criteria.</p></td>
    </tr>
    <tr>
      <th>fctr.load.tlrn</th>
      <td><p>Specifies the minimum difference a variable needs to have between
factor loadings (components) in order to indicate a clear loading on just one factor and not
diffusing over all factors. For instance, a variable with 0.8, 0.82 and 0.84 factor loading
on 3 possible factors can not be clearly assigned to just one factor and thus would be removed
from the principal component analysis. By default, the minimum difference of loading values
between the highest and 2nd highest factor should be 0.1</p></td>
    </tr>
    <tr>
      <th>plot.eigen</th>
      <td><p>If <code>TRUE</code>, a plot showing the Eigenvalues according to the
Kaiser criteria is plotted to determine the number of factors.</p></td>
    </tr>
    <tr>
      <th>digits</th>
      <td><p>Amount of decimals for estimates</p></td>
    </tr>
    <tr>
      <th>title</th>
      <td><p>character vector, used as plot title. Depending on plot type and function,
will be set automatically. If <code>title = ""</code>, no title is printed.
For effect-plots, may also be a character vector of length &gt; 1,
to define titles for each sub-plot or facet.</p></td>
    </tr>
    <tr>
      <th>axis.labels</th>
      <td><p>character vector with labels used as axis labels. Optional
argument, since in most cases, axis labels are set automatically.</p></td>
    </tr>
    <tr>
      <th>type</th>
      <td><p>Plot type resp. geom type. May be one of following: <code>"circle"</code> or <code>"tile"</code>
circular or tiled geoms, or <code>"bar"</code> for a bar plot. You may use initial letter only
for this argument.</p></td>
    </tr>
    <tr>
      <th>geom.size</th>
      <td><p>size resp. width of the geoms (bar width, line thickness or point size,
depending on plot type and function). Note that bar and bin widths mostly
need smaller values than dot sizes.</p></td>
    </tr>
    <tr>
      <th>geom.colors</th>
      <td><p>user defined color for geoms. See 'Details' in <code><a href='plot_grpfrq.html'>plot_grpfrq</a></code>.</p></td>
    </tr>
    <tr>
      <th>wrap.title</th>
      <td><p>numeric, determines how many chars of the plot title are displayed in
one line and when a line break is inserted.</p></td>
    </tr>
    <tr>
      <th>wrap.labels</th>
      <td><p>numeric, determines how many chars of the value, variable or axis
labels are displayed in one line and when a line break is inserted.</p></td>
    </tr>
    <tr>
      <th>show.values</th>
      <td><p>Logical, whether values should be plotted or not.</p></td>
    </tr>
    <tr>
      <th>show.cronb</th>
      <td><p>Logical, if <code>TRUE</code> (default), the cronbach's alpha value for each factor scale will be calculated,
i.e. all variables with the highest loading for a factor are taken for the
reliability test. The result is an alpha value for each factor dimension.
Only applies when <code>data</code> is a data frame.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>(Invisibly) returns a <code><a href='https://rdrr.io/r/base/structure.html'>structure</a></code> with</p><ul>
<li><p>the rotated factor loading matrix (<code>varim</code>)</p></li>
<li><p>the column indices of removed variables (for more details see next list item) (<code>removed.colindex</code>)</p></li>
<li><p>an updated data frame containing all factors that have a clear loading on a specific scale in case <code>data</code> was a data frame (See argument <code>fctr.load.tlrn</code> for more details) (<code>removed.df</code>)</p></li>
<li><p>the <code>factor.index</code>, i.e. the column index of each variable with the highest factor loading for each factor,</p></li>
<li><p>the ggplot-object (<code>plot</code>),</p></li>
<li><p>the data frame that was used for setting up the ggplot-object (<code>df</code>).</p></li>
</ul>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>sjmisc</span>)
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>efc</span>)
<span class='co'># recveive first item of COPE-index scale</span>
<span class='no'>start</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/which.html'>which</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span>(<span class='no'>efc</span>) <span class='kw'>==</span> <span class='st'>"c82cop1"</span>)
<span class='co'># recveive last item of COPE-index scale</span>
<span class='no'>end</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/which.html'>which</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span>(<span class='no'>efc</span>) <span class='kw'>==</span> <span class='st'>"c90cop9"</span>)

<span class='co'># manually compute PCA</span>
<span class='no'>pca</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/prcomp.html'>prcomp</a></span>(
  <span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span>(<span class='no'>efc</span>[, <span class='no'>start</span>:<span class='no'>end</span>]),
  <span class='kw'>retx</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>center</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>scale.</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>
)
<span class='co'># plot results from PCA as circles, including Eigenvalue-diagnostic.</span>
<span class='co'># note that this plot does not compute the Cronbach's Alpha</span>
<span class='fu'>sjp.pca</span>(<span class='no'>pca</span>, <span class='kw'>plot.eigen</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"circle"</span>, <span class='kw'>geom.size</span> <span class='kw'>=</span> <span class='fl'>10</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: 'sjp.pca()' will become deprecated in a future update. Please use 'parameters::principal_components()' and the 'plot()' method instead.</span></div><div class='output co'>#&gt; <span class='message'>--------------------------------------------</span></div><div class='output co'>#&gt; Importance of components:
#&gt;                          PC1    PC2    PC3     PC4    PC5     PC6     PC7
#&gt; Standard deviation     1.798 1.1311 0.9665 0.86090 0.8156 0.79511 0.74264
#&gt; Proportion of Variance 0.359 0.1421 0.1038 0.08235 0.0739 0.07024 0.06128
#&gt; Cumulative Proportion  0.359 0.5012 0.6050 0.68735 0.7612 0.83149 0.89277
#&gt;                            PC8    PC9
#&gt; Standard deviation     0.72514 0.6627
#&gt; Proportion of Variance 0.05842 0.0488
#&gt; Cumulative Proportion  0.95120 1.0000</div><div class='output co'>#&gt; <span class='message'>Eigenvalues:</span></div><div class='output co'>#&gt; [1] 3.2314271 1.2793112 0.9342115 0.7411566 0.6651403 0.6321939 0.5515205
#&gt; [8] 0.5258241 0.4392147</div><div class='output co'>#&gt; <span class='message'>--------------------------------------------</span></div><div class='output co'>#&gt; <span class='message'>Cronbach's Alpha can only be calculated when having a data frame with each component / variable as column.</span></div><div class='img'><img src='sjp.pca-1.png' alt='' width='700' height='433' /></div><div class='img'><img src='sjp.pca-2.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># use data frame as argument, let sjp.pca() compute PCA</span>
<span class='fu'>sjp.pca</span>(<span class='no'>efc</span>[, <span class='no'>start</span>:<span class='no'>end</span>])</div><div class='output co'>#&gt; <span class='warning'>Warning: 'sjp.pca()' will become deprecated in a future update. Please use 'parameters::principal_components()' and the 'plot()' method instead.</span></div><div class='output co'>#&gt; <span class='message'>Following items have no clear factor loading:</span></div><div class='output co'>#&gt; <span class='message'>none.</span></div><div class='img'><img src='sjp.pca-3.png' alt='' width='700' height='433' /></div><div class='input'><span class='fu'>sjp.pca</span>(<span class='no'>efc</span>[, <span class='no'>start</span>:<span class='no'>end</span>], <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"tile"</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: 'sjp.pca()' will become deprecated in a future update. Please use 'parameters::principal_components()' and the 'plot()' method instead.</span></div><div class='output co'>#&gt; <span class='message'>Following items have no clear factor loading:</span></div><div class='output co'>#&gt; <span class='message'>none.</span></div><div class='img'><img src='sjp.pca-4.png' alt='' width='700' height='433' /></div><div class='input'>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://github.com/strengejacke'>Daniel Lüdecke</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


